---
title: "开发指南-未完待续"
date: 2021-07-16T14:24:34+08:00
author: "Shaka"

tags: [
    "编程规范",
]
draft: true

---

提高质量和生产率是软件工程要解决的核心问题。

软件开发：正确性、健壮性、可靠性、效率、易用性、可读性（可理解性）、可扩展性、可复用性、兼容性、可移植性等。


只记录实际目前为止比较困惑的。

### 头文件的结构

1.为了防止头文件被重复引用，应当用 ifndef/define/endif 结构产生预处理块。

2.用 #include<filename.h>格式来引用非标准库的头文件（编译器将会从标准库目录开始搜索；用 #include<Îy "filename.h" 格式来引用非标准库的头文件（编译器将从用户的工作目录开始搜索）。（注：一般将 <> 格式的放在前， ""格式的放在后，为了统一风格）

3.头文件只存放“声明”而不存放“定义”。（C++中，类的成员函数可以在声明的同时被定义，并且自动成为内联函数。但这样做会造成风格不一致，弊大于利！

4.不提倡使用全局变量，尽量不要在头文件中出现 extern int value 这类声明。

### 头文件作用：
* （1）通过头文件来调用库功能。在很多场合，源代码不便（或不准）向用户公布，只要向用户提供头文件和二进制的库即可。用户只需要按照头文件中的借口声明来调用库的功能，而不必关心接口怎么实现的。编译器会从库中提取相应的代码。

* （2）头文件能加强类型安全检查。如果某个接口被实现或被使用时，其方式与头文件中的声明不一致，编译器就会指出错误，这一简单的规则能大大减轻程序员调试、改错的负担。

### 目录结构

如果一个软件的头文件数目比较多（如超过十个），通常应将头文件和定义文件分别保存于不同的目录，以便于维护。

例如可将头文件保存于 include 目录，将定义文件保存于 source 目录（可以是多级目录）。

如果某些头文件是私有的，它不会被用户的程序直接饮用，则没有必要公开其“声明”，可以把这些私有的头文件和定义文件存放于同一个目录。

### 空行

1.类声明之后、函数定义结束之后要加空行。

2.在一个函数体内，逻辑上密切相关的语句之间不加空行，其他地方应加空行分割。

### 代码行
1.一行代码只做一件事情，如只定义一个变量，或只写一条语句。

2.if、for、while、do 等语句自占一行，执行语句不得紧跟其后。不论执行语句有多少都要加{}。这样可以防止书写失误。（注：也为了统一风格）

3.尽可能在定义变量的同时初始化该变量（就近原则）。（注：这样可以减少被野指针折磨的痛苦，强烈建议）

### 代码行内的空格

1.关键字之后要留一个空格。像 if、for、while 等关键字之后应留一个空格再跟左括号 '('，以突出关键字。

2.函数名之后不要留空格，紧跟左括号'('，以与关键字区别。

3.'('向后紧跟，')'、‘，’、‘；’向前紧跟，紧跟处不留空格。

4.','之后要留空格，如果';'不是一行的结束符号，其后要留空格，如for(initialization; condition; update)。

5.【建议】对于表达式比较长的 for 语句和 if 语句，为了紧凑起见可以适当地去掉一些空格。（注：如果真的长到影响阅读，可以考虑）

### 对齐

1.‘{{’h和‘}}’应独占一行并且位于同一列，同时与引用它们的语句左对齐。


### 长行拆分

1.代码行最大长度应控制在 70 至 80 个字符以内。

2.【强烈】长表达式要在低优先级操作符处拆分成新行，操作符放在新行之首。



















































