{{ partial "header.html" . }}
{{ if .Params.show_toc }} {{ .TableOfContents }} {{ end }}

{{ if .Params.show_music }} 

<div class="container">
    <div id="aplayer"></div>
</div>
<script>
const ap = new APlayer({
    container: document.getElementById('aplayer'),
    autoplay: true,
    audio: [
        {
            name: '{{.Params.song}}',
            artist: '{{.Params.artist}}',
            url: '{{.Params.songUrl}}',
            cover: '{{.Params.songCover}}',
        }
    ]
});
</script>

{{ end }}

<main>
    {{ if (and (eq (getenv "HUGO_BLOGDOWN_POST_RELREF") "") (and (and .Params.date (lt (now.AddDate 0 0 ($.Site.Params.holdDays | default -90)) .Date)) (in (string .Content) "<!--# ON_HOLD -->"))) }}
    {{ (index (split .Content "<!--# ON_HOLD -->") 0) | safeHTML }}
    {{ else }}
    {{ .Content }}
    {{ end }}
</main>



{{ partial "footer.html" . }}
